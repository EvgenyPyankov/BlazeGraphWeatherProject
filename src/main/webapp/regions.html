<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Regions</title>
</head>
<body>
<!DOCTYPE html>
<head>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <script src="js/jquery-2.1.4.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/utils.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
</head>
<body>


<div class="container">
    <div class="header">
        <h1 class="h1 page-header">WeatherChange.tk</h1>
    </div>
    <div class="navigation">
        <a id="globeDiv" href="map.html"></a>
    </div>
    <div class="menu">

    </div>
    <div class="content">
        <div id="map"></div>
        <!--<div id="loadingDiv"></div>-->
    </div>
    <div class="clear">
    </div>
    <div class="footer">
        <a class="btn btn-info" role="button" href="http://weatherchange.tk:9999/blazegraph/">SPARQL endpoint</a>
    </div>
</div>

<script>
//    function getStations() {
//        $.ajax({
//            dataType: "json",
//            url: "rest/controller/stations",
//            success: function (stations) {
//
//            }
//        });
//    }

    google.charts.load('upcoming', {'packages':['geochart']});
    google.charts.setOnLoadCallback(drawRegionsMap);

    function drawRegionsMap() {
        var array = [
            ['Provinces', 'Popularity'],
            //['RU-KO', 200],
            // [{v: 'RU-KAM', f: 'HCM'}, 300]
            ['RU-ARK', 'http://dbpedia.org/resource/Arkhangelsk_Oblast'],
            ['RU-KK', 'http://dbpedia.org/resource/Khakassia'],
            ['RU-KL', 'http://dbpedia.org/resource/Kalmykia'],
            ['RU-SAK', 'http://dbpedia.org/resource/Sakhalin_Oblast'],
            ['RU-KO', 'http://dbpedia.org/resource/Komi_Republic'],
            ['RU-SAM', 'http://dbpedia.org/resource/Samara_Oblast'],
            ['RU-CE', 'http://dbpedia.org/resource/Chechnya'],
            ['RU-SVE', 'http://dbpedia.org/resource/Sverdlovsk_Oblast'],
            ['RU-IRK', 'http://dbpedia.org/resource/Irkutsk_Oblast'],
            ['RU-ORE', 'http://dbpedia.org/resource/Orenburg_Oblast'],
            ['RU-KC', 'http://dbpedia.org/resource/Karachay-Cherkessia'],
            ['RU-SAR', 'http://dbpedia.org/resource/Saratov_Oblast'],
            ['RU-KB', 'http://dbpedia.org/resource/Kabardino-Balkaria'],
            ['RU-YAN', 'http://dbpedia.org/resource/Yamalo-Nenets_Autonomous_Okrug'],
            ['RU-ORL', 'http://dbpedia.org/resource/Oryol_Oblast'],
            ['RU-MUR', 'http://dbpedia.org/resource/Murmansk_Oblast'],
            ['RU-CU', 'http://dbpedia.org/resource/Chuvashia'],
            ['RU-TOM', 'http://dbpedia.org/resource/Tomsk_Oblast'],
            ['RU-KEM', 'http://dbpedia.org/resource/Kemerovo_Oblast'],
            ['RU-MAG', 'http://dbpedia.org/resource/Magadan_Oblast'],
            ['RU-KIR', 'http://dbpedia.org/resource/Kirov_Oblast'],
            ['RU-IVA', 'http://dbpedia.org/resource/Ivanovo_Oblast'],
            ['RU-KR', 'http://dbpedia.org/resource/Republic_of_Karelia'],
            ['RU-OMS', 'http://dbpedia.org/resource/Omsk_Oblast'],
            ['RU-SMO', 'http://dbpedia.org/resource/Smolensk_Oblast'],
            ['RU-VGG', 'http://dbpedia.org/resource/Volgograd_Oblast'],
            ['RU-ROS', 'http://dbpedia.org/resource/Rostov_Oblast'],
            ['RU-TA', 'http://dbpedia.org/resource/Tatarstan'],
            ['RU-KAM', 'http://dbpedia.org/resource/Kamchatka_Krai'],
            ['RU-NGR', 'http://dbpedia.org/resource/Novgorod_Oblast'],
            ['RU-VOR', 'http://dbpedia.org/resource/Voronezh_Oblast'],
            ['RU-PNZ', 'http://dbpedia.org/resource/Penza_Oblast'],
            ['RU-BA', 'http://dbpedia.org/resource/Bashkortostan'],
            ['RU-ULY', 'http://dbpedia.org/resource/Ulyanovsk_Oblast'],
            ['RU-PSK', 'http://dbpedia.org/resource/Pskov_Oblast'],
            ['RU-AMU', 'http://dbpedia.org/resource/Amur_Oblast'],
            ['RU-NVS', 'http://dbpedia.org/resource/Novosibirsk_Oblast'],
            ['RU-SA', 'http://dbpedia.org/resource/Sakha_Republic'],
            ['RU-KHM', 'http://dbpedia.org/resource/Khanty-Mansi_Autonomous_Okrug'],
            ['RU-CHU', 'http://dbpedia.org/resource/Chukotka_Autonomous_Okrug'],
            ['RU-SE', 'http://dbpedia.org/resource/North_Ossetia-Alania'],
            ['RU-BU', 'http://dbpedia.org/resource/Buryatia'],
            ['RU-KYA', 'http://dbpedia.org/resource/Krasnoyarsk_Krai'],
            ['RU-KLU', 'http://dbpedia.org/resource/Kaluga_Oblast'],
            ['RU-ZAB', 'http://dbpedia.org/resource/Zabaykalsky_Krai'],
            ['RU-NIZ', 'http://dbpedia.org/resource/Nizhny_Novgorod_Oblast'],
            ['RU-CHE', 'http://dbpedia.org/resource/Chelyabinsk_Oblast'],
            ['RU-STA', 'http://dbpedia.org/resource/Stavropol_Krai'],
            ['RU-TAM', 'http://dbpedia.org/resource/Tambov_Oblast'],
            ['RU-MO', 'http://dbpedia.org/resource/Mordovia'],
            ['RU-AD', 'http://dbpedia.org/resource/Adygea'],
            ['RU-ME', 'http://dbpedia.org/resource/Mari_El'],
            ['RU-TVE', 'http://dbpedia.org/resource/Tver_Oblast'],
            ['RU-KHA', 'http://dbpedia.org/resource/Khabarovsk_Krai'],
            ['RU-PRI', 'http://dbpedia.org/resource/Primorsky_Krai'],
            ['RU-KDA', 'http://dbpedia.org/resource/Krasnodar_Krai'],
            ['RU-ALT', 'http://dbpedia.org/resource/Altai_Krai'],
            ['RU-BRY', 'http://dbpedia.org/resource/Bryansk_Oblast'],
            ['RU-TUL', 'http://dbpedia.org/resource/Tula_Oblast'],
            ['RU-KOS', 'http://dbpedia.org/resource/Kostroma_Oblast'],
            ['RU-TYU', 'http://dbpedia.org/resource/Tyumen_Oblast'],
            ['RU-MOS', 'http://dbpedia.org/resource/Moscow_Oblast'],
            ['RU-KGN', 'http://dbpedia.org/resource/Kurgan_Oblast'],
            ['RU-LIP', 'http://dbpedia.org/resource/Lipetsk_Oblast'],
            ['RU-LEN', 'http://dbpedia.org/resource/Leningrad_Oblast'],
            ['RU-NEN', 'http://dbpedia.org/resource/Nenets_Autonomous_Okrug'],
            ['RU-AL', 'http://dbpedia.org/resource/Altai_Republic'],
            ['RU-RYA', 'http://dbpedia.org/resource/Ryazan_Oblast'],
            ['RU-TY', 'http://dbpedia.org/resource/Tuva'],
            ['RU-AST', 'http://dbpedia.org/resource/Astrakhan_Oblast'],
            ['RU-DA', 'http://dbpedia.org/resource/Dagestan'],
            ['RU-KGD', 'http://dbpedia.org/resource/Kaliningrad_Oblast'],
            ['RU-BEL', 'http://dbpedia.org/resource/Belgorod_Oblast'],
            ['RU-YEV', 'http://dbpedia.org/resource/Jewish_Autonomous_Oblast'],
            ['RU-YAR', 'http://dbpedia.org/resource/Yaroslavl_Oblast'],
            ['RU-VLA', 'http://dbpedia.org/resource/Vladimir_Oblast'],
            ['RU-KRS', 'http://dbpedia.org/resource/Kursk_Oblast'],
            ['RU-UD', 'http://dbpedia.org/resource/Udmurtia'],
            ['RU-VLG', 'http://dbpedia.org/resource/Vologda_Oblast']
        ];

        var data = google.visualization.arrayToDataTable(array);


        var options = {
            region:'RU',
            resolution:'provinces',
            colorAxis: {
                minValue: 0,
                maxValue: 400
            }
        };

        var chart = new google.visualization.GeoChart(document.getElementById('map'));






        function selectHandler() {
            var selectedItem = chart.getSelection();
            if (selectedItem){
                alert(array[selectedItem[0].row+1][1]);
                //TODO: title
                window.location = '/BlazegraphWeather/graphicByYears.html?id=' + array[selectedItem[0].row+1][1] + '&title=' + ""+"&type=region";

            }

        }

        google.visualization.events.addListener(chart, 'select', selectHandler);
        chart.draw(data, options);

    }
</script>

</body>
</html>
</body>
</html>